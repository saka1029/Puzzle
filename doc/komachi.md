# Komachi

# RPNによる表現

演算子がすべて2項であるとすると、
数値が$n$個ある場合、演算子は$n-1$個ある。

4つの数値A, B, C, D
と3つの演算子x, y, z
の組み合わせで考えてみる。

```
A B x C y D z  ->  ((A x B) y C) z D
A B x C D y z  ->  (A x B) z (C y D)
A B C x y D z  ->  (A y (B x C)) z D
A B C x D y z  ->   A z ((B x C) y D)
A B C D x y z  ->   A z (B y (C x D))
```

この場合は5パターンあることがわかる。

|数値の数|演算子の数|パターン数 |
|-:|--:|-:|
|2|1|1|
|3|2|2|
|4|3|5|
|5|4|14|
|6|5|42|
|7|6|132|
|8|7|429|
|9|8|1430|

これはカタラン数というらしい。

$${\displaystyle C_{n}={\frac {1}{n+1}}{2n \choose n}={\frac {(2n)!}{(n+1)!\,n!}}\quad (n\geq 0)}$$

実際の値は以下の通り。

|$n$|$C_n$|
|-:|-:|
|0|1|
|1|1|
|2|2|
|3|5|
|4|14|
|5|42|
|6|132|
|7|429|
|8|1430|

数値の数ではなく演算子の数を$n$とすると
パターンの数は$C_n$となる。